<ion-header>
    <ion-toolbar>
        <ion-item lines = 'none'>
            <ion-buttons slot = 'start'>
                <ion-button (click) = 'dismiss(false)' color = 'primary'
                            fill = 'clear'
                            shape = 'round'>
                    <ion-icon name = "arrow-back-outline"></ion-icon>
                </ion-button>
            </ion-buttons>
            <ion-label><h1>Add a new Project</h1></ion-label>
        </ion-item>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-slides #slide pager = 'true' style = 'height: 100%'>
        <ion-slide>
            <ion-list style = 'width: 100%; height: 100%'>
                <ion-item class = 'ion-item-border'
                          lines = 'none'>
                    <ion-label position = 'floating'>
                        Project Name
                    </ion-label>
                    <ion-input [(ngModel)] = 'pName'
                               placeholder = 'Project Name'
                               required type = 'text'>
                    </ion-input>
                </ion-item>
                <ion-item class = 'ion-item-border'
                          lines = 'none'>
                    <ion-label position = 'floating'>
                        Project Description
                    </ion-label>
                    <ion-textarea [(ngModel)] = 'pDesc'
                                  placeholder = 'Project Description' required
                                  rows = '5' type = 'text'>
                    </ion-textarea>
                </ion-item>

                <ion-item *ngIf = 'clients' class = 'ion-item-border'
                          lines = 'none'>
                    <ion-label>Client</ion-label>
                    <ion-select [(ngModel)] = 'pClient'
                                [interfaceOptions] = 'customPopoverOptions'
                                interface = 'popover' mode = 'md'
                                placeholder = 'Clients'>
                        <ion-select-option *ngFor = 'let c of clients'
                                           [value] = 'c'>
                            {{c.cName}}
                        </ion-select-option>
                    </ion-select>
                    <ion-buttons slot = 'end'>
                        <ion-button (click) = 'addNewClient()' color = 'primary'
                                    fill = 'clear'
                                    shape = 'round'>
                            <ion-icon name = "person-add-outline"></ion-icon>
                        </ion-button>
                    </ion-buttons>
                </ion-item>

                <ion-item class = 'ion-item-border' lines = 'none'>
                    <ion-label>Billing Type</ion-label>
                    <ion-select [(ngModel)] = 'pBillingType'
                                interface = 'popover'
                                mode = 'md' placeholder = 'Billing Type'>
                        <ion-select-option value = 'One Time'>One Time
                        </ion-select-option>
                        <ion-select-option value = 'Hourly'>Hourly
                        </ion-select-option>
                    </ion-select>
                </ion-item>

                <ion-item *ngIf = 'pBillingType' class = 'ion-item-border'
                          lines = 'none'>
                    <ion-label>{{pBillingType === 'One Time' ?
                        'Project Budget : ' :
                        'Hourly Rate : '}}
                    </ion-label>
                    <ion-input [(ngModel)] = 'pBudget' min = '0' required
                               type = 'number'>$&nbsp;
                    </ion-input>
                </ion-item>

                <ion-item-group>
                    <ion-item class = 'ion-item-border' lines = 'none'>
                        <ion-label>Start Date</ion-label>
                        <ion-datetime [(ngModel)] = 'pStartDate'
                                      displayFormat = "MMM DD, YYYY"
                                      placeholder = "Select Date"></ion-datetime>
                    </ion-item>

                    <ion-item class = 'ion-item-border' lines = 'none'>
                        <ion-label>Deadline</ion-label>
                        <ion-datetime [(ngModel)] = 'pDeadline'
                                      displayFormat = "MMM DD, YYYY"
                                      placeholder = "Select Date">
                        </ion-datetime>
                    </ion-item>
                </ion-item-group>
            </ion-list>
        </ion-slide>

        <ion-slide>
            <ion-list style = 'height: 100%; width: 100%;'>
                <div *ngIf = 'pBillingType === "Hourly"'>
                    <ion-item lines = 'inherit'>
                        <h3>Your Rate</h3>
                    </ion-item>
                    <ion-item lines = 'none'>
                        <ion-label>Hourly Rate :</ion-label>
                        <ion-input [(ngModel)] = 'hRate' required
                                   type = 'number'>
                            $&nbsp;
                        </ion-input>
                    </ion-item>
                </div>
                <ion-item *ngIf = 'members' lines = 'inherit'>
                    <h3>Members</h3>
                    <ion-buttons slot = 'end'>
                        <ion-button (click) = 'addMember()'
                                    [disabled] = 'available.length === 0'
                                    color = 'primary'
                                    fill = 'clear'
                                    shape = 'round'>
                            <ion-icon name = "add-circle-outline"></ion-icon>
                        </ion-button>
                    </ion-buttons>
                </ion-item>

                <ion-card *ngFor = 'let member of pMembers'>
                    <ion-card-header>
                        <ion-card-title class = 'ion-text-center'>
                            <ion-icon (click) = 'removeMember(member)'
                                      class = 'ion-float-right'
                                      color = 'danger'
                                      name = "remove-circle-outline">
                            </ion-icon>
                            {{member.mName}}
                        </ion-card-title>
                        <ion-card-subtitle>{{member.mRole}}</ion-card-subtitle>
                    </ion-card-header>
                    <ion-card-content>
                        Billing Type&nbsp;:&nbsp;<b>{{member.mBillingType}}</b>
                        <br>
                        {{member.mBillingType === "One Time" ? "Price : $" :
                        "Rate : $"}}{{member.mRate}}
                    </ion-card-content>
                </ion-card>
            </ion-list>
        </ion-slide>
    </ion-slides>

    <ion-fab *ngIf = 'pMembers.length >
    0 && pName && pDesc && pDeadline && pStartDate && pBillingType && pBudget
     && pClient' horizontal = 'end' vertical = 'bottom'>
        <ion-fab-button (click) = 'dismiss(true)' color = 'success'>
            <ion-icon name = "folder-open-outline"></ion-icon>
        </ion-fab-button>
    </ion-fab>

    <!--    <ion-fab horizontal = 'start' vertical = 'bottom' *ngIf =-->
    <!--            'slide.isEnd() | async'>-->
    <!--        <ion-fab-button (click) = 'slide.slideTo(0)' color = 'light'>-->
    <!--            <ion-icon name="chevron-back-outline"></ion-icon>-->
    <!--        </ion-fab-button>-->
    <!--    </ion-fab>-->
    <!--    <ion-fab horizontal = 'end' vertical = 'bottom' *ngIf = 'slide.isEnd() |-->
    <!--     async'>-->
    <!--        <ion-fab-button (click) = 'slide.slideTo(1)' color = 'light'>-->
    <!--            <ion-icon name="chevron-forward-outline"></ion-icon>-->
    <!--        </ion-fab-button>-->
    <!--    </ion-fab>-->

</ion-content>

<ion-header>
    <ion-toolbar>
        <ion-item lines = 'none'>
            <ion-buttons slot = 'start'>
                <ion-button (click) = 'openDropDown($event)' color = 'primary'
                            fill = 'clear'
                            shape = "round">
                    <ion-icon name = "chevron-down-outline"></ion-icon>
                </ion-button>
            </ion-buttons>
            <ion-buttons (click) = 'addNewClient()' slot = 'end'>
                <ion-button fill = 'clear' shape = 'round'>
                    <ion-icon color = 'primary'
                              name = "person-add-outline"></ion-icon>
                </ion-button>
            </ion-buttons>
            <ion-title>List of Clients</ion-title>
        </ion-item>
    </ion-toolbar>
</ion-header>

<ion-content id = 'main'>
    <ion-item lines = 'full'>
        <h1>Clients</h1>
    </ion-item>
    <div *ngIf = 'clients'>
        <ion-card *ngFor = 'let client of clients'>
            <ion-card-header>
                <ion-card-title>{{client.cName}}</ion-card-title>
                <ion-card-subtitle>{{client.cCompany}}
                    , {{client.cCountry}}</ion-card-subtitle>
            </ion-card-header>
            <ion-content>
                <ion-list *ngIf = 'client.pIds.length > 0' lines = 'none'>
                    <ion-list-header>Projects
                                     by {{client.cName}}</ion-list-header>
                    <ion-item
                            *ngFor = 'let project of ds.fetchProjects("cId","==",client.cId)| async'>
                        {{project.pName}}
                        <ion-card-subtitle>{{project.pDesc}}</ion-card-subtitle>
                    </ion-item>
                </ion-list>
            </ion-content>
        </ion-card>
    </div>

</ion-content>

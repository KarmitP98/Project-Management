<ion-content *ngIf = 'user && project' fullscreen>

    <ion-card [color] = 'project.pStatus ==="Active"?
     "warning" : "success" ' class = 'ion-text-center'>
        <ion-card-header>
            <ion-card-title>{{project.pName}}</ion-card-title>
            <ion-card-subtitle>{{"Start Date : " +
            (project.pStartDate | date)}}</ion-card-subtitle>
            <ion-card-subtitle>{{"Deadline : " + (project.pDeadline | date)}}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
            {{project.pDesc}}
        </ion-card-content>
    </ion-card>

    <ion-item lines = 'full'>
        <ion-label>
            <ion-title>Members</ion-title>
        </ion-label>
        <ion-icon (click) = 'addMember()'
                  *ngIf = 'available?.length > 0'
                  class = 'ion-float-right'
                  color = 'primary'
                  matTooltip = 'Add Member'
                  name = 'person-add'>
        </ion-icon>
    </ion-item>

    <ion-card *ngFor = 'let member of project.pMembers'>
        <ion-card-header class = 'ion-text-center'>
            <ion-card-title>
                {{member.mName}}
            </ion-card-title>
            <ion-card-subtitle>
                {{member.mRole}}
            </ion-card-subtitle>
        </ion-card-header>
        <ion-card-content *ngIf = 'user.uId === project.pHId || member.mUId
        === user.uId'>
            Billing Type&nbsp;:&nbsp;<b>{{member.mBillingType}}</b>
            <br>
            {{member.mBillingType === "One Time" ? "Price : $" :
            "Rate : $"}}<b>{{member.mRate}}</b>
            <br>
            Amount Earned: <b>$ {{member.mEarned}}</b>
            <br>
            Total Hours Worked: <b>{{getTotalHoursWorked(member)}} Hrs</b>
            <!--            Amount Paid: <b>$ {{member.mPaid}}</b>-->
            <div class = 'ion-float-right'>
                <ion-icon (click) = 'raiseInvoice(member)'
                          *ngIf = 'getUnbilledHours(member)'
                          color = 'success'
                          name = 'cash'
                          size = 'large'>
                </ion-icon>
                &nbsp;&nbsp;<ion-icon (click) = 'viewWorkLog(member)'
                                      color = 'primary'
                                      name = 'calendar'
                                      size = 'large'>
            </ion-icon>
            </div>
            <br>
        </ion-card-content>
    </ion-card>

    <ion-fab [@push] horizontal = 'start' vertical = 'bottom'>
        <ion-fab-button (click) = 'backToDashboard()' color = 'danger'>
            <ion-icon name = 'close'></ion-icon>
        </ion-fab-button>
    </ion-fab>
</ion-content>
